<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/public/styles/dashboard.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/public/scripts/main.js" defer></script>
    <script src="/public/scripts/dashboard.js" defer></script>
    <title>DASHBOARD</title>
</head>
<body>

    <div class="main-content">
        <div class="top-bar">
            <div class="left-item">
                <button class="burger-btn" onclick="toggleMenu()">☰</button>
                <select>
                    <option>Placeholder</option>
                </select>
            </div>
            <div class="right-item">
                <button class="user-btn" onclick="toggleUserMenu()">U</button>
                <div class="user-menu" id="userMenu">
                    <p class="username">Username</p>
                    <p class="email">email@example.com</p>
                    <button class="settings">Settings</button>
                    <button class="logout">Logout</button>
                </div>
            </div>
        </div>
        <div class="dashboard-text">
            <h1>DASHBOARD</h1>
        </div>
        <div class="top-widgets">
            
            <div class="widget" data-id="1">
                <div class="widget-header">
                    <span class="widget-title">Budżet</span>
                </div>

                <div class="widget-amount" id="budget-amount">
                    0.00 PLN
                </div>

                <div class="widget-footer" id="budget-footer">
                    Miesięczna alokacja
                </div>
            </div>

            <div class="widget" data-id="2">
                <div class="widget-header">
                    <span class="widget-title">Wydatki</span>
                </div>

                <div class="widget-amount spending" id="spending-amount">
                    0.00 PLN
                </div>

                <div class="widget-footer" id="spending-footer">
                    0% budżetu
                </div>
            </div>

            <div class="widget" data-id="3">
                <div class="widget-header">
                    <span class="widget-title">Balans</span>
                </div>

                <div class="widget-amount balance" id="balance-amount">
                    0.00 PLN
                </div>

                <div class="widget-footer" id="balance-footer">
                    Pozostały budżet
                </div>
            </div>

        </div>
        <div class="graph-widgets">
            <canvas class="trends-graph" id="trendsGraph" width="400" height="200">

            </canvas>

            <canvas class="category-graph" id="categoryGraph" width="400" height="200">

            </canvas>

        </div>
        <div class="bottom-widgets">
            <div class="recent-transactions">
                <div class="widget-list-header">
                    <h3>Ostatnie transakcje</h3>
                </div>
                <ul class="transaction-list" id="transactionList">
                    <li class="loading">Ładowanie danych...</li>
                </ul>
            </div>
            <div class="group-members">
                <div class="widget-list-header">
                    <h3>Członkowie grupy</h3>
                </div>
                <ul class="members-list" id="membersList">
                    <li class="loading">Ładowanie danych...</li>
                </ul>
            </div>
        </div>
    </div>

    <nav class="nav-menu" id="navMenu">
        <ul>
            <li><a href="/dashboard" class="active">Dashboard</a></li>
            <li><a href="/transactions">Transactions</a></li>
            <li><a href="/reports">Reports</a></li>
            <li><a href="/members">Members</a></li>
        </ul>
    </nav>

    <script>
        // Inicjalizacja po załadowaniu strony
        window.onload = function() {
            initializeDashboard();
            initializeCharts();
        };
    </script>
</body>