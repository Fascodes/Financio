<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/public/styles/reports.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/public/scripts/main.js" defer></script>
    <script src="/public/scripts/reports.js" defer></script>
    <title>Reports</title>
</head>
<body onload="initializeReports()">
    <div class="top-bar">
        <div class="left-item">
            <button class="burger-btn" onclick="toggleMenu()">â˜°</button>
            <select>
                <option>Placeholder</option>
            </select>
        </div>
        <div class="right-item">
            <button class="user-btn" onclick="toggleUserMenu()">U</button>
            <div class="user-menu" id="userMenu">
                <p class="username">Username</p>
                <p class="email">email@example.com</p>
                <button class="settings">Settings</button>
                <button class="logout">Logout</button>
            </div>
        </div>
    </div>
    <nav class="nav-menu" id="navMenu">
        <ul>
            <li><a href="/dashboard">Dashboard</a></li>
            <li><a href="/transactions">Transactions</a></li>
            <li><a href="/reports" class="active">Reports</a></li>
            <li><a href="/members">Members</a></li>
        </ul>
    </nav>

    <main class="main-content">
        <!-- Header -->
        <div class="page-header">
            <h1>Reports</h1>
            <p class="subtitle">Visual insights and spending analysis</p>
        </div>

        <!-- Summary Widgets -->
        <div class="summary-widgets">
            <div class="summary-card">
                <h3>This Month</h3>
                <div class="summary-value" id="thisMonthValue">$0</div>
                <div class="summary-label">Total spending</div>
            </div>
            <div class="summary-card">
                <h3>Last Month</h3>
                <div class="summary-value" id="lastMonthValue">$0</div>
                <div class="summary-label" id="changeLabel">+0% increase</div>
            </div>
            <div class="summary-card">
                <h3>Avg/Month</h3>
                <div class="summary-value" id="avgMonthValue">$0</div>
                <div class="summary-label">Last 6 months</div>
            </div>
            <div class="summary-card">
                <h3>Top Category</h3>
                <div class="summary-value category-value" id="topCategoryName">N/A</div>
                <div class="summary-label" id="topCategoryAmount">$0 this month</div>
            </div>
        </div>

        <!-- Monthly Comparison Chart -->
        <div class="chart-card full-width">
            <h3>Monthly Comparison by Member</h3>
            <div class="chart-container">
                <canvas id="monthlyComparisonChart"></canvas>
            </div>
        </div>

        <!-- Spending Trends Chart -->
        <div class="chart-card full-width">
            <h3>Spending Trends by Category</h3>
            <div class="chart-container">
                <canvas id="spendingTrendsChart"></canvas>
            </div>
        </div>

        <!-- Bottom Charts Row -->
        <div class="charts-row">
            <div class="chart-card">
                <h3>Category Distribution</h3>
                <div class="chart-container pie-container">
                    <canvas id="categoryDistributionChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <h3>Member Contributions</h3>
                <div class="chart-container">
                    <canvas id="memberContributionsChart"></canvas>
                </div>
            </div>
        </div>
    </main>
</body>
</html>